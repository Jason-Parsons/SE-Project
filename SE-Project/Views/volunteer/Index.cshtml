 @{ 
   if (Session["userID"] == null)
   {
       Response.Redirect("~/users/login");
   }
} 

@{
     ViewBag.Title = "Volunteer";
}

<h1>Volunteer Control Pannel</h1>
<h2>Welcome @Session["userName"].ToString()</h2>
<body>
     <div id="largebox">
          <div id="mapbox">
          
               <p><button onclick="geoFindMe()">Search for jobs</button></p>
             <div id="out" style="float:left;width:425px;height:50px; margin-left:12px"></div>
               <div id="googleMap" style="float:left;width:425px;height:275px;margin-left:12px"></div>

                   <script>
                        function geoFindMe() {
                             var output = document.getElementById("out");

                             if (!navigator.geolocation) {
                                  output.innerHTML = "<p>Geolocation is not supported by your browser</p>";
                                  return;
                             }

                             function success(position) {
                                  var latitude = position.coords.latitude;
                                  var longitude = position.coords.longitude;

                                  output.innerHTML = '<p>Latitude is ' + latitude.toFixed(5) + '° <br>Longitude is ' + longitude.toFixed(5) + '°</p>';

                                  var mapProp = {
                                       center: new google.maps.LatLng(latitude.toFixed(5), longitude.toFixed(5)),
                                       zoom: 13,
                                  };

                                  navigator.geolocation.getCurrentPosition(success, error);

                                  var marker = new google.maps.Marker({ position: mapProp.center });

                                  map = new google.maps.Map(document.getElementById("googleMap"), mapProp);
                                  marker.setMap(map);
                                  
                             }

                             function error() {
                                  output.innerHTML = "Unable to retrieve your location";
                             }

                             output.innerHTML = "<p>Locating…</p>";

                             navigator.geolocation.getCurrentPosition(success, error);
                        }
                        
                    </script>                  
                           <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBsV_j3UnupXN7XKDIIldbskUI8IbhnNuw&callback=map"></script>



<div id="listbox">

     <p>List of jobs inside your search area</p>

</div>

<div id="jobsbox">

     <p>List of jobs that have been signed up for</p>

</div>

    </div>
     </div>
</body>

